<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafe Management - Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" />
    
    <style>
        :root {
            /* Palette */
            --md-primary: #0B57D0; 
            --md-on-primary: #FFFFFF;
            --md-primary-container: #D3E3FD;
            --md-on-primary-container: #041E49;
            
            --md-bg: #F8F9FA;
            --md-surface: #FFFFFF;
            --md-on-surface: #1F1F1F;
            --md-surface-variant: #E1E3E1; 
            --md-on-surface-variant: #444746;
            --md-outline: #747775;
            --md-outline-variant: #C4C7C5;
            --md-error: #BA1A1A;
            --md-focus-ring: #0B57D0;

            --chip-active-bg: #E8F5E9;
            --chip-active-text: #054D22;
            --chip-draft-bg: #E3F2FD;
            --chip-draft-text: #004D80;
            
            --radius-s: 8px;
            --radius-m: 12px;
            --radius-l: 16px;
            --radius-btn: 12px;
            
            --shadow-1: 0 1px 2px rgba(0,0,0,0.1), 0 1px 3px 1px rgba(0,0,0,0.15);
            --shadow-2: 0 4px 8px 3px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.3);
        }

        body.dark-mode {
            --md-primary: #A8C7FA;
            --md-on-primary: #002F6C;
            --md-primary-container: #0842A0;
            --md-on-primary-container: #D3E3FD;
            
            --md-bg: #111318;
            --md-surface: #111318; 
            --md-on-surface: #FFFFFF;
            --md-surface-variant: #444746;
            --md-on-surface-variant: #C4C7C5;
            --md-outline: #8E918F;
            --md-outline-variant: #444746;
            --md-error: #FFB4AB;
            --md-focus-ring: #A8C7FA;

            --chip-active-bg: rgba(109, 213, 140, 0.2);
            --chip-active-text: #6DD58C;
            --chip-draft-bg: rgba(168, 199, 250, 0.2);
            --chip-draft-text: #A8C7FA;
        }

        /* --- RESET --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--md-bg);
            color: var(--md-on-surface);
            transition: background-color 0.2s, color 0.2s;
            padding-bottom: 80px;
        }
        
        :focus-visible { outline: 2px solid var(--md-focus-ring) !important; outline-offset: 2px; border-radius: 4px; }
        :focus:not(:focus-visible) { outline: none; }

        .container { max-width: 1280px; margin: 0 auto; padding: 20px; }
        .hidden { display: none !important; }
        .flex-row { display: flex; gap: 12px; align-items: center; }
        .space-between { justify-content: space-between; }
        .w-100 { width: 100%; }
        .mb-2 { margin-bottom: 1rem; }
        .mt-2 { margin-top: 1rem; }

        /* --- BUTTONS --- */
        .btn {
            height: 40px; padding: 0 24px;
			border-radius: var(--radius-btn);
            border: none; font-weight: 500; cursor: pointer;
            display: inline-flex; align-items: center; justify-content: center; gap: 8px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 14px; white-space: nowrap;
            background: transparent; color: inherit;
        }
        .btn:active { transform: scale(0.96); } /* Subtle feedback */

        .btn-filled { background: var(--md-primary); color: var(--md-on-primary); }
        .btn-filled:hover { opacity: 0.9; box-shadow: var(--shadow-1); }

        .btn-outlined { border: 1px solid var(--md-outline); color: var(--md-primary); }
        .btn-outlined:hover { background: rgba(11, 87, 208, 0.04); }

        .btn-text { color: var(--md-primary); padding: 0 12px; }
        
        .btn-icon { 
            width: 40px; height: 40px; padding: 0; border:none; 
            border-radius: 50%; background:transparent; 
            cursor: pointer; display: flex; align-items: center; justify-content: center;
        }
        .btn-icon:hover { background: var(--md-surface-variant); }
        .action-primary { color: var(--md-primary); }
        .action-delete { color: var(--md-error); }

        /* --- CUSTOM DROPDOWN --- */
        .dropdown { position: relative; display: inline-block; }
        .dropdown-trigger {
            display: flex; align-items: center; gap: 8px;
            padding: 8px 12px; border-radius: var(--radius-btn);
            background: transparent; border: 1px solid transparent;
            cursor: pointer; color: var(--md-on-surface); font-size: 14px; font-weight: 500;
        }
        .dropdown-trigger:hover { background: var(--md-surface-variant); }
        .dropdown-menu {
            display: none; position: absolute; top: 110%; right: 0;
            background: var(--md-surface); border-radius: 4px;
            box-shadow: var(--shadow-2); min-width: 160px; z-index: 200;
            padding: 8px 0; border: 1px solid var(--md-surface-variant);
        }
        .dropdown-menu.show { display: block; animation: fadeIn 0.1s ease-out; }
        .dropdown-item {
            padding: 10px 16px; display: block; width: 100%; text-align: left;
            border: none; background: transparent; color: var(--md-on-surface);
            font-size: 14px; cursor: pointer;
        }
        .dropdown-item:hover { background: var(--md-surface-variant); }
        .dropdown-item.selected { background: var(--md-primary-container); color: var(--md-on-primary-container); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- TOP BAR --- */
        .top-app-bar {
            padding: 12px 24px; background: var(--md-surface); 
            border-bottom: 1px solid var(--md-surface-variant); 
            position: sticky; top:0; z-index: 100;
        }

        /* --- TABLES --- */
        .data-table {
            width: 100%; border-collapse: separate; border-spacing: 0;
            background: var(--md-surface); border-radius: var(--radius-l);
            border: 1px solid var(--md-surface-variant); overflow: hidden;
        }
        .data-table th {
            text-align: left; padding: 16px; font-size: 12px; font-weight: 700;
            text-transform: uppercase; color: var(--md-on-surface-variant);
            border-bottom: 1px solid var(--md-surface-variant);
        }
        .data-table td { padding: 16px; border-bottom: 1px solid var(--md-surface-variant); }
        .actions-cell { display: flex; gap: 4px; justify-content: flex-end; flex-wrap: nowrap; }

        @media (max-width: 768px) {
            .data-table { border: none; background: transparent; }
            .data-table thead { display: none; }
            .data-table tr {
                display: block; background: var(--md-surface); margin-bottom: 12px;
                border: 1px solid var(--md-surface-variant); border-radius: 12px;
            }
            .data-table td {
                display: flex; justify-content: space-between; align-items: center;
                padding: 12px 16px; border-bottom: 1px solid var(--md-surface-variant);
            }
            .data-table td::before { content: attr(data-label); font-weight: 700; color: var(--md-primary); font-size: 12px; }
            .data-table td:last-child { justify-content: flex-end; border-bottom: none; }
            .data-table td:last-child::before { display: none; }
        }

        /* --- FORMS --- */
        .chip { padding: 4px 12px; border-radius: 16px; font-size: 12px; font-weight: 700; }
        .chip.active { background: var(--chip-active-bg); color: var(--chip-active-text); }
        .chip.draft { background: var(--chip-draft-bg); color: var(--chip-draft-text); }

        .md-input, .md-select {
            height: 40px; padding: 0 12px; border: 1px solid var(--md-outline-variant);
            border-radius: 8px; background: var(--md-surface); color: var(--md-on-surface); width: 100%;
        }
        label { font-size: 12px; color: var(--md-on-surface-variant); font-weight: 500; margin-bottom: 4px; display: block; }
        
        .section-block {
            background: var(--md-surface); border: 1px solid var(--md-outline-variant);
            border-radius: var(--radius-m); padding: 16px; margin-bottom: 24px;
        }
        .item-row {
            border: 1px solid var(--md-outline-variant); border-radius: var(--radius-s);
            padding: 16px; margin-bottom: 12px; transition: border-color 0.2s;
        }
        .item-row:hover { border-color: var(--md-primary); }

        .md-checkbox { width: 16px; height: 16px; accent-color: var(--md-primary); cursor: pointer; }

        @media (min-width: 1024px) {
            .item-main-grid { display: grid; grid-template-columns: 32px 3fr 1fr 1.5fr 1fr auto; gap: 12px; align-items: center; }
            .item-details-grid { padding-left: 44px; display: grid; grid-template-columns: 3fr 1fr; gap: 12px; align-items: end; }
        }
        .drag-handle { color: var(--md-outline); cursor: grab; }
        .collapsible-content { overflow: hidden; }
        .rotate-icon { transition: transform 0.3s; }
        .collapsed .rotate-icon { transform: rotate(-90deg); }
        
        .ingredient-tag { 
            display: inline-flex; align-items: center; gap: 8px; 
            padding: 6px 12px; border: 1px solid var(--md-outline-variant); 
            border-radius: 20px; font-size: 13px; cursor: pointer; user-select: none;
            transition: background 0.2s;
        }
        .ingredient-tag:hover { background: var(--md-surface-variant); }
        
    </style>
</head>
<body>

    <nav class="top-app-bar flex-row space-between">
        <button class="btn" onclick="switchView('screen-cafe-grid')" style="padding:0">
            <span class="material-symbols-rounded" style="color: var(--md-primary); font-size: 28px;">storefront</span>
            <span style="font-weight: 700; font-size: 1.2rem; margin-left: 8px;">CafeManager</span>
        </button>
        
        <div class="flex-row">
            <div class="dropdown">
                <button class="dropdown-trigger" onclick="toggleLanguageMenu()">
                    <span class="material-symbols-rounded">language</span>
                    <span id="current-lang">English</span>
                    <span class="material-symbols-rounded">arrow_drop_down</span>
                </button>
                <div class="dropdown-menu" id="lang-menu">
                    <button class="dropdown-item selected" onclick="selectLanguage('English', this)">English</button>
                    <button class="dropdown-item" onclick="selectLanguage('Українська', this)">Українська</button>
                </div>
            </div>
            <button class="btn btn-icon" onclick="toggleTheme()" aria-label="Toggle Dark Mode" title="Toggle Theme">
                <span class="material-symbols-rounded">contrast</span>
            </button>
            <div style="width: 32px; height: 32px; background: var(--md-primary); border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; margin-left: 8px;">JM</div>
        </div>
    </nav>

    <main class="container">

        <section id="screen-cafe-grid">
            <div class="flex-row space-between mb-2">
                <h1>My Cafes</h1>
                <button class="btn btn-filled" onclick="switchView('screen-cafe-create')"><span class="material-symbols-rounded">add</span> New Cafe</button>
            </div>
            <table class="data-table">
                <thead><tr><th>Name</th><th>Contact</th><th>Created</th><th style="text-align:right">Actions</th></tr></thead>
                <tbody>
                    <tr>
                        <td data-label="Name"><strong>Central Perk</strong></td>
                        <td data-label="Contact">manager@centralperk.com</td>
                        <td data-label="Created">Jan 12</td>
                        <td>
                            <div class="actions-cell">
                                <button class="btn btn-icon action-primary" onclick="switchView('screen-menu-grid')" title="View Menus"><span class="material-symbols-rounded">restaurant_menu</span></button>
                                <button class="btn btn-icon action-primary" title="Edit"><span class="material-symbols-rounded">edit</span></button>
                                <button class="btn btn-icon action-delete" title="Delete"><span class="material-symbols-rounded">delete</span></button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="screen-cafe-create" class="hidden">
            <div class="flex-row mb-2">
                <button class="btn btn-icon action-primary" onclick="switchView('screen-cafe-grid')"><span class="material-symbols-rounded">arrow_back</span></button>
                <h1>New Cafe</h1>
            </div>
            <div class="section-block" style="max-width: 500px; margin: 0 auto;">
                <div class="mb-2"><label>Name</label><input type="text" class="md-input"></div>
                <div class="mb-2"><label>Email</label><input type="email" class="md-input"></div>
                <div class="flex-row" style="justify-content: flex-end; margin-top: 20px;">
                    <button class="btn btn-text" onclick="switchView('screen-cafe-grid')">Cancel</button>
                    <button class="btn btn-filled" onclick="showToast('Created'); switchView('screen-cafe-grid')">Create</button>
                </div>
            </div>
        </section>

        <section id="screen-menu-grid" class="hidden">
            <div class="flex-row space-between mb-2">
                <div class="flex-row">
                    <button class="btn btn-icon action-primary" onclick="switchView('screen-cafe-grid')"><span class="material-symbols-rounded">arrow_back</span></button>
                    <h1>Menus</h1>
                </div>
                <button class="btn btn-filled" onclick="switchView('screen-menu-edit')">Create Menu</button>
            </div>
            <table class="data-table">
                <thead><tr><th>Name</th><th>Status</th><th style="text-align:right">Actions</th></tr></thead>
                <tbody>
                    <tr>
                        <td data-label="Name">Lunch Specials</td>
                        <td data-label="Status"><span class="chip active">Active</span></td>
                        <td>
                            <div class="actions-cell">
                                <button class="btn btn-icon action-primary" onclick="switchView('screen-menu-edit')"><span class="material-symbols-rounded">edit</span></button>
                                <button class="btn btn-icon action-delete"><span class="material-symbols-rounded">delete</span></button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="screen-menu-edit" class="hidden">
            <div class="flex-row space-between mb-2">
                <div class="flex-row">
                    <button class="btn btn-icon action-primary" onclick="switchView('screen-menu-grid')"><span class="material-symbols-rounded">arrow_back</span></button>
                    <h1>Edit Menu</h1>
                </div>
                <div class="flex-row">
                    <button class="btn btn-outlined" onclick="switchView('screen-preview')">Preview</button>
                    <button class="btn btn-filled" onclick="showToast('Menu Saved')">Save</button>
                </div>
            </div>

            <div class="section-block">
                <div class="mb-2"><label>Internal Name</label><input type="text" class="md-input" value="Lunch Specials"></div>
                <div><label>Description (Public)</label><input type="text" class="md-input" placeholder="e.g. Fresh seasonal ingredients"></div>
            </div>

            <div class="section-block">
                <div class="flex-row space-between">
                    <div class="flex-row" style="flex: 1;">
                        <span class="material-symbols-rounded drag-handle">drag_indicator</span>
                        <div class="flex-row" style="flex: 1; flex-wrap: wrap;">
                            <div style="flex: 2; min-width: 150px;"><label>Section Name</label><input type="text" class="md-input" value="Main Courses"></div>
                            <div style="flex: 1;"><label>From</label><input type="time" class="md-input" value="11:00"></div>
                            <div style="flex: 1;"><label>To</label><input type="time" class="md-input" value="15:00"></div>
                        </div>
                    </div>
                    <div class="flex-row" style="margin-left:8px;">
                        <button class="btn btn-icon action-delete" title="Delete Section"><span class="material-symbols-rounded">delete</span></button>
                        <button class="btn btn-icon action-primary rotate-icon" onclick="toggleCollapse('sec-1', this)"><span class="material-symbols-rounded">expand_more</span></button>
                    </div>
                </div>

                <div id="sec-1" class="collapsible-content mt-2" style="border-left: 2px solid var(--md-primary-container); padding-left: 20px;">
                    <div class="item-row">
                        <div class="item-main-grid">
                            <span class="material-symbols-rounded drag-handle">drag_indicator</span>
                            <div><label>Item Name</label><input type="text" class="md-input" value="Grilled Salmon"></div>
                            <div><label>Price</label><input type="number" class="md-input" value="18.50"></div>
                            <div><label>Unit</label><select class="md-select"><option>Portion</option><option>100g</option></select></div>
                            <div><label>Disc %</label><input type="number" class="md-input" value="0"></div>
                            
                            <div class="flex-row" style="gap:0">
                                <button class="btn btn-icon action-delete" title="Delete Item"><span class="material-symbols-rounded">delete</span></button>
                                <button class="btn btn-icon action-primary rotate-icon" onclick="toggleCollapse('item-1', this)"><span class="material-symbols-rounded">expand_more</span></button>
                            </div>
                        </div>
                        <div id="item-1" class="collapsible-content mt-2">
                            <div class="item-details-grid">
                                <div><label>Description</label><input type="text" class="md-input" value="Salmon with asparagus"></div>
                                <button class="btn btn-outlined w-100" style="height: 40px; border-style: dashed;"><span class="material-symbols-rounded">image</span></button>
                            </div>
                            <div class="flex-row mt-2" style="flex-wrap: wrap;">
                                <label class="ingredient-tag">
                                    <input type="checkbox" class="md-checkbox" checked>
                                    Salmon
                                    <span class="material-symbols-rounded" style="font-size:16px; margin-left:4px; color:var(--md-error)">close</span>
                                </label>
                                <label class="ingredient-tag">
                                    <input type="checkbox" class="md-checkbox" checked>
                                    Asparagus
                                    <span class="material-symbols-rounded" style="font-size:16px; margin-left:4px; color:var(--md-error)">close</span>
                                </label>
                                <button class="btn btn-text" style="height:30px; font-size:12px;">+ Add Ingredient</button>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-text">+ Add Item</button>
                </div>
            </div>
        </section>

        <section id="screen-preview" class="hidden">
            <div style="background: var(--md-primary-container); padding: 40px; text-align: center; border-radius: 24px; margin-bottom: 24px;">
                <h1 style="color: var(--md-on-primary-container)">Central Perk</h1>
                <p>Lunch Specials • 11:00 - 15:00</p>
                <button class="btn btn-filled mt-2" onclick="switchView('screen-menu-edit')">Back to Edit</button>
            </div>
            <div style="max-width: 600px; margin: 0 auto; padding: 20px;">
                <h2 style="border-bottom: 2px solid var(--md-primary); display: inline-block; margin-bottom: 20px;">Main Courses</h2>
                <div class="flex-row space-between">
                    <div>
                        <h3>Grilled Salmon</h3>
                        <p style="color: var(--md-on-surface-variant)">Fresh atlantic salmon with asparagus.</p>
                        <p style="font-weight: 700; color: var(--md-primary); margin-top: 4px;">$18.50</p>
                    </div>
                    <div style="width: 80px; height: 80px; background: var(--md-surface-variant); border-radius: 12px;"></div>
                </div>
            </div>
        </section>

    </main>

    <script>
        function switchView(id) {
            document.querySelectorAll('main > section').forEach(s => s.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function toggleTheme() { document.body.classList.toggle('dark-mode'); }

        function toggleCollapse(id, btn) {
            const content = document.getElementById(id);
            const isHidden = content.style.display === "none";
            content.style.display = isHidden ? "block" : "none";
            btn.classList.toggle('collapsed', !isHidden);
        }

        function toggleLanguageMenu() {
            const menu = document.getElementById('lang-menu');
            menu.classList.toggle('show');
        }

        function selectLanguage(lang, el) {
            document.getElementById('current-lang').innerText = lang;
            document.getElementById('lang-menu').classList.remove('show');
            document.querySelectorAll('.dropdown-item').forEach(i => i.classList.remove('selected'));
            el.classList.add('selected');
        }

        window.onclick = function(event) {
            if (!event.target.closest('.dropdown')) {
                const dropdowns = document.getElementsByClassName("dropdown-menu");
                for (let i = 0; i < dropdowns.length; i++) {
                    if (dropdowns[i].classList.contains('show')) {
                        dropdowns[i].classList.remove('show');
                    }
                }
            }
        }

        function showToast(msg) {
            const t = document.createElement('div');
            t.innerText = msg;
            t.style = "position:fixed; bottom:24px; left:50%; transform:translateX(-50%); background:#323232; color:white; padding:12px 24px; border-radius:24px; z-index:1000; font-size:14px;";
            document.body.appendChild(t);
            setTimeout(() => t.remove(), 2500);
        }

        document.querySelectorAll('.collapsible-content').forEach(c => c.style.display = "block");
    </script>
</body>
</html>